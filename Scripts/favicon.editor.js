/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

(function () {
    /**
    * Opens media library picker.
    */
    var openMediaPicker = function (e) {
        e.preventDefault();


        var adminIndex = location.href.toLowerCase().indexOf("/admin/"),
            url;

        if (adminIndex === -1) {
            return;
        }

        url = location.href.substr(0, adminIndex) + "/Admin/Orchard.MediaLibrary?dialog=true";

        $.colorbox({
            href: url,
            iframe: true,
            reposition: true,
            width: '90%',
            height: '90%',
            onLoad: function () {
                // hide the scrollbars from the main window
                $('html, body').css('overflow', 'hidden');
            },
            onClosed: function () {
                var selectedData = $.colorbox.selectedData;

                $('html, body').css('overflow', '');

                if (selectedData.length === 0) {
                    return;
                }

                mediaSelected(selectedData);

            }
        });
    };

    var mediaSelected = function (selectedData) {
        var $faviconInput = document.querySelector('.js-favicon > .js-favicon-url-input');
        var url = selectedData[0].title;
        
        $faviconInput.value = url;
    };

    /**
    * Initialises media library picker.
    */
    var init = function () {
        var $mediaLibrary = document.querySelector('.js-favicon > .js-open-media-library');
        $mediaLibrary.addEventListener('click', openMediaPicker);
    };


    init();

})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhdmljb24uZWRpdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxBQUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImZhdmljb24uZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAqIE9wZW5zIG1lZGlhIGxpYnJhcnkgcGlja2VyLlxuICAgICovXG4gICAgdmFyIG9wZW5NZWRpYVBpY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuXG4gICAgICAgIHZhciBhZG1pbkluZGV4ID0gbG9jYXRpb24uaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIvYWRtaW4vXCIpLFxuICAgICAgICAgICAgdXJsO1xuXG4gICAgICAgIGlmIChhZG1pbkluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsID0gbG9jYXRpb24uaHJlZi5zdWJzdHIoMCwgYWRtaW5JbmRleCkgKyBcIi9BZG1pbi9PcmNoYXJkLk1lZGlhTGlicmFyeT9kaWFsb2c9dHJ1ZVwiO1xuXG4gICAgICAgICQuY29sb3Jib3goe1xuICAgICAgICAgICAgaHJlZjogdXJsLFxuICAgICAgICAgICAgaWZyYW1lOiB0cnVlLFxuICAgICAgICAgICAgcmVwb3NpdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHdpZHRoOiAnOTAlJyxcbiAgICAgICAgICAgIGhlaWdodDogJzkwJScsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBoaWRlIHRoZSBzY3JvbGxiYXJzIGZyb20gdGhlIG1haW4gd2luZG93XG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbG9zZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWREYXRhID0gJC5jb2xvcmJveC5zZWxlY3RlZERhdGE7XG5cbiAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuY3NzKCdvdmVyZmxvdycsICcnKTtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZERhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtZWRpYVNlbGVjdGVkKHNlbGVjdGVkRGF0YSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBtZWRpYVNlbGVjdGVkID0gZnVuY3Rpb24gKHNlbGVjdGVkRGF0YSkge1xuICAgICAgICB2YXIgJGZhdmljb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1mYXZpY29uID4gLmpzLWZhdmljb24tdXJsLWlucHV0Jyk7XG4gICAgICAgIHZhciB1cmwgPSBzZWxlY3RlZERhdGFbMF0udGl0bGU7XG4gICAgICAgIFxuICAgICAgICAkZmF2aWNvbklucHV0LnZhbHVlID0gdXJsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqIEluaXRpYWxpc2VzIG1lZGlhIGxpYnJhcnkgcGlja2VyLlxuICAgICovXG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkbWVkaWFMaWJyYXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWZhdmljb24gPiAuanMtb3Blbi1tZWRpYS1saWJyYXJ5Jyk7XG4gICAgICAgICRtZWRpYUxpYnJhcnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTWVkaWFQaWNrZXIpO1xuICAgIH07XG5cblxuICAgIGluaXQoKTtcblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
